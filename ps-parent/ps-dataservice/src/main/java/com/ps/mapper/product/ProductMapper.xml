<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ps.mapper.product.ProductMapper">
    <resultMap id="BaseResultMap" type="com.ps.model.product.Product">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="pid" jdbcType="VARCHAR" property="pid"/>
        <result column="pname" jdbcType="VARCHAR" property="pname"/>
        <result column="market_price" jdbcType="DOUBLE" property="marketPrice"/>
        <result column="shop_price" jdbcType="DOUBLE" property="shopPrice"/>
        <result column="pimage" jdbcType="VARCHAR" property="pimage"/>
        <result column="pdate" jdbcType="DATE" property="pdate"/>
        <result column="is_hot" jdbcType="INTEGER" property="isHot"/>
        <result column="pdesc" jdbcType="VARCHAR" property="pdesc"/>
        <result column="pflag" jdbcType="INTEGER" property="pflag"/>
        <result column="cid" jdbcType="VARCHAR" property="cid"/>
    </resultMap>
    <sql id="Base_Column_List">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        pid, pname, market_price, shop_price, pimage, pdate, is_hot, pdesc, pflag, cid
    </sql>
    <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List"/>
        from product
        where pid = #{pid,jdbcType=VARCHAR}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from product
        where pid = #{pid,jdbcType=VARCHAR}
    </delete>
    <insert id="insert" parameterType="com.ps.model.product.Product">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into product (pid, pname, market_price,
        shop_price, pimage, pdate,
        is_hot, pdesc, pflag,
        cid)
        values (#{pid,jdbcType=VARCHAR}, #{pname,jdbcType=VARCHAR}, #{marketPrice,jdbcType=DOUBLE},
        #{shopPrice,jdbcType=DOUBLE}, #{pimage,jdbcType=VARCHAR}, #{pdate,jdbcType=DATE},
        #{isHot,jdbcType=INTEGER}, #{pdesc,jdbcType=VARCHAR}, #{pflag,jdbcType=INTEGER},
        #{cid,jdbcType=VARCHAR})
    </insert>
    <insert id="insertSelective" parameterType="com.ps.model.product.Product">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into product
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="pid != null">
                pid,
            </if>
            <if test="pname != null">
                pname,
            </if>
            <if test="marketPrice != null">
                market_price,
            </if>
            <if test="shopPrice != null">
                shop_price,
            </if>
            <if test="pimage != null">
                pimage,
            </if>
            <if test="pdate != null">
                pdate,
            </if>
            <if test="isHot != null">
                is_hot,
            </if>
            <if test="pdesc != null">
                pdesc,
            </if>
            <if test="pflag != null">
                pflag,
            </if>
            <if test="cid != null">
                cid,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="pid != null">
                #{pid,jdbcType=VARCHAR},
            </if>
            <if test="pname != null">
                #{pname,jdbcType=VARCHAR},
            </if>
            <if test="marketPrice != null">
                #{marketPrice,jdbcType=DOUBLE},
            </if>
            <if test="shopPrice != null">
                #{shopPrice,jdbcType=DOUBLE},
            </if>
            <if test="pimage != null">
                #{pimage,jdbcType=VARCHAR},
            </if>
            <if test="pdate != null">
                #{pdate,jdbcType=DATE},
            </if>
            <if test="isHot != null">
                #{isHot,jdbcType=INTEGER},
            </if>
            <if test="pdesc != null">
                #{pdesc,jdbcType=VARCHAR},
            </if>
            <if test="pflag != null">
                #{pflag,jdbcType=INTEGER},
            </if>
            <if test="cid != null">
                #{cid,jdbcType=VARCHAR},
            </if>
        </trim>
    </insert>
    <update id="updateByPrimaryKeySelective" parameterType="com.ps.model.product.Product">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update product
        <set>
            <if test="pname != null">
                pname = #{pname,jdbcType=VARCHAR},
            </if>
            <if test="marketPrice != null">
                market_price = #{marketPrice,jdbcType=DOUBLE},
            </if>
            <if test="shopPrice != null">
                shop_price = #{shopPrice,jdbcType=DOUBLE},
            </if>
            <if test="pimage != null">
                pimage = #{pimage,jdbcType=VARCHAR},
            </if>
            <if test="pdate != null">
                pdate = #{pdate,jdbcType=DATE},
            </if>
            <if test="isHot != null">
                is_hot = #{isHot,jdbcType=INTEGER},
            </if>
            <if test="pdesc != null">
                pdesc = #{pdesc,jdbcType=VARCHAR},
            </if>
            <if test="pflag != null">
                pflag = #{pflag,jdbcType=INTEGER},
            </if>
            <if test="cid != null">
                cid = #{cid,jdbcType=VARCHAR},
            </if>
        </set>
        where pid = #{pid,jdbcType=VARCHAR}
    </update>
    <update id="updateByPrimaryKey" parameterType="com.ps.model.product.Product">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update product
        set pname = #{pname,jdbcType=VARCHAR},
        market_price = #{marketPrice,jdbcType=DOUBLE},
        shop_price = #{shopPrice,jdbcType=DOUBLE},
        pimage = #{pimage,jdbcType=VARCHAR},
        pdate = #{pdate,jdbcType=DATE},
        is_hot = #{isHot,jdbcType=INTEGER},
        pdesc = #{pdesc,jdbcType=VARCHAR},
        pflag = #{pflag,jdbcType=INTEGER},
        cid = #{cid,jdbcType=VARCHAR}
        where pid = #{pid,jdbcType=VARCHAR}
    </update>

    <!--分页查询热门产品列表-->
    <!--SELECT 后面跟表中的列的信息   FROM后面跟表   WHERE后面跟条件   ORDER BY 列 DESC 倒叙排列-->
    <select id="selectHotProductByPage" resultMap="BaseResultMap">
            SELECT
                *
            FROM
                product
            WHERE
                is_hot = 0
            ORDER BY
                pdate DESC
                LIMIT 0,9
     </select>
    <!--分页查询最新产品列表-->
    <select id="selctNewProductByPage" resultMap="BaseResultMap">
            SELECT
                *
            FROM
                product
            WHERE
                pdate
            ORDER BY
                pdate DESC
                LIMIT 0,9
    </select>
</mapper>